(this.webpackJsonpmovie_reccomender=this.webpackJsonpmovie_reccomender||[]).push([[0],{25:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(18),i=c.n(s),n=c(8),r=(c(25),c(20)),o=c(7),j=c(2),l=c(0),d=function(){return Object(l.jsxs)("div",{className:"Navbar",children:[Object(l.jsx)("li",{children:Object(l.jsx)(n.b,{activeClassName:"active",to:"/",children:" Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.b,{activeClassName:"active",to:"/favorites",children:"Favorites"})})]})},b=function(e){var t=e.moviesList,c=e.addToFavorite,a=e.showDetails;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Most Popular Movies Right Now"}),Object(l.jsx)("div",{className:"movies",children:t.length>0&&t.map((function(e){return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+e.poster_path,alt:e.title}),Object(l.jsxs)("h2",{children:[e.title," ",Object(l.jsxs)("span",{children:[e.vote_average," ",Object(l.jsx)("i",{className:"fas fa-star"})]})]}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)(n.b,{className:"btn",to:"/details",onClick:function(){return a(e)},children:"Details"}),Object(l.jsx)("button",{onClick:function(){return c(e)},className:"btn",children:"Add to favorite"})]})]},e.id)}))})]})},h=function(e){var t=e.favMovies,c=e.removeFavorite;return t.length?Object(l.jsx)("div",{className:"movies",children:t.length>0&&t.map((function(e){return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+e.poster_path,alt:e.title}),Object(l.jsxs)("h2",{children:["Movie: ",e.title," ",Object(l.jsxs)("span",{children:[e.vote_average,"*"]})]}),Object(l.jsx)("div",{className:"buttons",children:Object(l.jsx)("button",{onClick:function(){return c(e)},className:"btn",children:"Remove"})})]},e.id)}))}):Object(l.jsx)("h2",{className:"heading",children:"Your favorite movies will appear here"})},v=function(e){var t=e.data,c=Object(a.useState)(),s=Object(o.a)(c,2),i=s[0],n=s[1],r=Object(a.useState)([]),j=Object(o.a)(r,2),d=j[0],b=j[1];return Object(a.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(t.id,"?api_key=4e44d9029b1270a757cddc766a1bcb63&append_to_response=videos")).then((function(e){return e.json()})).then((function(e){var t=e.videos.results[1].key,c=e.genres;b(c),n(t)}))}),[t.id]),Object(l.jsxs)("div",{className:"details",children:[Object(l.jsxs)("div",{className:"data",children:[Object(l.jsxs)("h3",{children:["Movie: ",t.title]}),Object(l.jsxs)("h4",{children:["Language: ",t.original_language]}),Object(l.jsxs)("h4",{children:["Rating: ",t.vote_average]}),Object(l.jsxs)("h4",{children:["Release Date: ",t.release_date]}),Object(l.jsxs)("h4",{children:["Genre: ",d.map((function(e){return Object(l.jsxs)("span",{children:[e.name,", "]},e.id)}))]}),Object(l.jsxs)("h4",{children:["Adult Content: ",t.adult?"Yes":"No"]}),Object(l.jsx)("h4",{children:"Overview: "}),Object(l.jsx)("p",{children:t.overview}),Object(l.jsx)("a",{className:"btn",target:"_blank",rel:"noreferrer",href:"https://www.youtube.com/watch?v=".concat(i),children:"Preview"})]}),Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+t.poster_path,alt:t.title})]})},u="https://api.themoviedb.org/3/movie/popular?api_key=".concat("4e44d9029b1270a757cddc766a1bcb63","&language=en-US&page=1");var O=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(),n=Object(o.a)(i,2),O=n[0],m=n[1],f=Object(a.useState)([]),x=Object(o.a)(f,2),p=x[0],g=x[1],N=Object(a.useState)([]),w=Object(o.a)(N,2),_=w[0],S=w[1],k=Object(a.useState)({}),y=Object(o.a)(k,2),F=y[0],C=y[1];Object(a.useEffect)((function(){fetch(u).then((function(e){return e.json()})).then((function(e){s(!0),g(e.results)})).catch((function(e){return m(e)}))}),[]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favorites-movies"));S(e)}),[]);var M=function(e){localStorage.setItem("favorites-movies",JSON.stringify(e))};return c?O?Object(l.jsx)("h5",{children:O}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/",children:Object(l.jsx)(b,{moviesList:p,addToFavorite:function(e){var t=[].concat(Object(r.a)(_),[e]);S(t),M(t),alert("".concat(e.title," successfully added to your favorites"))},showDetails:function(e){C(e)}})}),Object(l.jsx)(j.a,{exact:!0,path:"/favorites",children:Object(l.jsx)(h,{favMovies:_,removeFavorite:function(e){if(window.confirm("Do you want to remove ".concat(e.title," from favorites"))){var t=_.filter((function(t){return t.id!==e.id}));S(t),M(t)}}})}),Object(l.jsx)(j.a,{children:Object(l.jsx)(v,{exact:!0,path:"/details",data:F})})]})]}):Object(l.jsx)("h5",{children:"Loading....."})};i.a.render(Object(l.jsx)(n.a,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.383f91b0.chunk.js.map